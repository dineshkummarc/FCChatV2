(function(){var $=jGo.$;var A='';var B="jGo_drag";var C="jGo_click";var D=2;var E=2;var F="tc";var G="tb";var H="ti";var I="tm";var J="tl";var K="tr";var L="rl";var M="rr";var N="bm";var O="bl";var P="br";var Q="mn";var R="mx";var S="cl";var T="rs";var U="b1";var V="b2";var W="b3";var X="b0";jGo.DefaultWindow=function(){jGo.Window.apply(this,arguments);this.type='DefaultWindow';this.doc=$(document);this.resizable=true;this.shieldOnDrag=true;this.title='';this.min_label;this.max_label;this.close_label;this.restore_label;this.t;this.tI;this.tC;this.cB;this.MB;this.mB;this.cA;this.cA2;this.cN;this.eventsEnabled=true;this.lock=false;this.eWL=0;this.eWT=0;this.eWW=0;this.eWH=0;this.eCW=0;this.eCH=0;this.eCBL=0;this.eMBL=0;this.emBL=0;this.eX=0;this.eY=0;this.eDraggingWindow=false;this.dragElement=null;this.color;this.opacity;this.maxOpacity=1;this.top;this.left;this.mW=200;this.mH=38;this.lW=300;this.lH=300;this.lt=0;this.lL=0;this.MW=800;this.MH=750;this.getDefault=function(){return jGo.DefaultWindow.prototype}};jGo.DefaultWindow.prototype=new jGo.Window();var Y=jGo.DefaultWindow.prototype;Y.create=function(a,p){this.title=p[0];var b=p[1];var d=p[2];var e=p[3];var f=p[4];var g=p[5];var h=p[6];var i=p[7];var j=p[8];var k=p[9];var l=p[10];var m=p[11];var n=p[12];var o=p[13];var q=p[14];var r=p[15]||(jGo.UI.path+"/current_skin/logo.gif");this.min_label=p[16]||'minimize';this.max_label=p[17]||'maximize';this.restore_label=p[18]||'restore';this.close_label=p[19]||'close';var c=[];c[0]="";c[1]="";c[2]="";c[3]="";c[4]="";c[5]="";c[6]="";c[7]="";var s='jGo_drag';var t='';if(!q){s='jGo_fix';t='cursor:default;'}var u=t+'background-color:'+h+' ;filter:alpha(opacity='+i+');-moz-opacity:.'+i+';opacity:.'+i+';';this.resizable=q;this.defaultClientWidth=e;this.defaultClientHeight=f;this.opacity=i;this.color=h;this.frame=$('#jGo_win'+a);if(!this.frame[0]){this.frame=$(document.createElement('div')).attr({'id':'jGo_win'+a}).addClass('jGo_app jGo_myapp jGo_ydsf');$(document).append(this.frame)}this.frame.css({display:"block",width:(jGo.util.eN(e)+10)+"px",height:(jGo.util.eN(f)+35)+"px",position:"absolute",top:d+"px",left:b+"px"});var v="background-color:#"+k+";";if(k==''){v="background-image:url("+l+");"}this.frame[0].innerHTML="<table id='jGo_inner"+a+"' cellpadding=0 cellspacing=0 class='jGo_inner' >"+"<tr>"+"<td id='jGo_dragtl"+a+"' class='jGo_tl_"+g+"' style='"+u+"'>"+c[0]+"</td>"+"<td id='jGo_dragtm"+a+"' class='jGo_tm_"+g+"' style='"+u+"'>"+c[1]+"</td>"+"<td id='jGo_dragtr"+a+"' class='jGo_tr_"+g+"' style='"+u+"'>"+c[2]+"</td>"+"</tr>"+"<tr>"+"<td id='"+s+"rl"+a+"' class='jGo_rl_"+g+"' style='"+u+"'>"+c[3]+"</td>"+"<td>"+"<div id='jGo_cnt_wrap"+a+"' style='width:"+e+"px;height:"+f+"px;'>"+"<img src='trans.gif' height=1 width=1><div id='jGo_cnt"+a+"' style='position:absolute;overflow:hidden;width:"+e+"px;height:"+f+"px;"+v+"'></div>"+"</div>"+"</td>"+"<td id='"+s+"rr"+a+"' class='jGo_rr_"+g+"' style='"+u+"'>"+c[4]+"</td>"+"</tr>"+"<tr>"+"<td id='"+s+"bl"+a+"' class='jGo_bl_"+g+"' style='"+u+"'>"+c[5]+"</td>"+"<td id='"+s+"bm"+a+"' class='jGo_bm_"+g+"' style='"+u+"'>"+c[6]+"</td>"+"<td id='"+s+"br"+a+"' class='jGo_br_"+g+"' style='"+u+"'>"+c[7]+"</td>"+"</tr>"+"</table>";if($.browser.version=='6.0'&&$.browser.msie){this.frame[0].style.background=''}this.cA=$('#jGo_cnt_wrap'+a);this.cN=$('#jGo_cnt'+a);document.body.insertBefore(this.cN[0],document.body.firstChild);if(m=='element'){this.cN.append(n)}if(m=='html'){this.cN[0].innerHTML=n}this.cN.css({"z-index":(this.frame.css("z-index")+1),left:(parseInt(this.frame[0].style.left)+5)+'px',top:(parseInt(this.frame[0].style.top)+30)+'px'});var w=[];var x=this.frame.width();this.cB=$(document.createElement('div')).attr("id","jGo_clickcl"+a).css("left",(x-40)+"px");this.MB=$(document.createElement('div')).attr("id","jGo_clickmx"+a).css("left",(x-65)+"px");this.mB=$(document.createElement('div')).attr("id","jGo_clickmn"+a).css("left",(x-90)+"px");$([this.cB[0],this.MB[0],this.mB[0]]).css({position:"absolute",width:"21px",height:"21px",display:"block",top:"-5px"});this.tI=$(document.createElement('div')).attr("id","jGo_title_inner"+a).css({width:"16px",background:"url("+r+") no-repeat",left:"0px"});this.t=$(document.createElement('div')).attr("id","jGo_title"+a).css({width:(x-116)+"px",left:"16px",overflow:"hidden"});this.tC=$(document.createElement('div')).attr("id","jGo_dragtc"+a).css({width:(x-100)+"px",left:"0px","background-color":h,opacity:.0001});$([this.tI[0],this.t[0],this.tC[0]]).addClass("jGo_title_default").css({position:"absolute",height:"15px",display:"block",top:"-5px",cursor:"default"});this.frame.append(this.cB,this.MB,this.mB,this.tI,this.t,this.tC);this.cB.html("<a href='javascript:void(0)' title='"+this.close_label+"' id='jGo_clickb3"+a+"' class='jGo_closewindow_default'>&nbsp;</a>");this.MB.html("<a href='javascript:void(0)' title='"+this.max_label+"' id='jGo_clickb2"+a+"' class='jGo_maxwindow_default'>&nbsp;</a>");this.mB.html("<a href='javascript:void(0)' title='"+this.min_label+"' id='jGo_clickb1"+a+"' class='jGo_minwindow_default'>&nbsp;</a>");this.t.html("<nobr id='jGo_dragtb"+a+"'>&nbsp;"+this.title+"<a href='javascript:void(0)' style='visibility:hidden' class='jGo_restorewindow_default'>&nbsp;</a></nobr>");this.frame.eventHandler('mousedown',this,'onMouseDown','');this.cN.eventHandler('mousedown',this,'onMouseDown','');this.frame.eventHandler('dblclick',this,'onDoubleClick','');this.id=a};Y.setZPos=function(z){this.frame.css("z-index",z);this.cN.css("z-index",z+1)};Y.getZPos=function(){return this.frame.css("z-index")};Y.decZPos=function(){this.frame.css("z-index",(this.frame.css("z-index")-2));this.cN.css("z-index",(this.cN.css("z-index")-2))};Y.select=function(){this.setBorderOpacity(this.opacity)};Y.deselect=function(){this.setBorderOpacity(this.opacity-15)};Y.setBorderOpacity=function(a){var b=a/100;var c=this.getBorderElements();c.css({opacity:b})};Y.getBorderElements=function(){var a='jGo_drag';if(!this.resizable||this.state!=1){a='jGo_fix'}return $("#jGo_dragtm"+this.id+",#jGo_dragtl"+this.id+",#jGo_dragtr"+this.id+",#"+a+"rl"+this.id+",#"+a+"rr"+this.id+",#"+a+"bl"+this.id+",#"+a+"bm"+this.id+",#"+a+"br"+this.id)};Y.close=function(){this.doc.trigger('mousedown');this.frame.css({display:"none","z-index":"1000",top:"-100px",left:"-100px",width:"",height:""});this.cN.css("display","none");if(!$.browser.msie){this.empty()}else{var a=this;setTimeout(function(){a.empty()},50)}return true};Y.empty=function(){if(this.frame[0]){this.frame.empty();this.frame.html("")}if(this.cN[0]){this.cN.empty();this.cN.html("");try{document.body.removeChild(this.cN[0])}catch(e){}}};Y.destroy=function(){return false};Y.onMouseDown=function(e){if(this.eventsEnabled){this.handleMouseDown(e,false)}return false};Y.onDoubleClick=function(e){if(this.eventsEnabled){this.handleMouseDown(e,true)}return false};Y.onDoubleClickTop=function(){switch(this.state){case 0:this.onRestore();break;case 1:this.onMinimize();break;case 2:this.onRestore();break;default:}};Y.handleMouseDown=function(e,a){if(!this.isSelected){this.select()}if(e.button==1&&window.event!=null||e.button==0){var b=e.target.getAttribute('id');if(b!=null&&b.substring(0,B.length)==B){this.eX=e.clientX;this.eY=e.clientY;this.dragElement=e.target;var c=b.substr(B.length,D);var d=b.substr(B.length+D);document.body.focus();document.body.onselectstart=function(){return false};document.body.onmousedown=function(){return false};if(this.enabled&&this.id==d){switch(c){case I:case J:case K:case F:case G:case H:this.eWL=jGo.util.eN(this.frame.css("left"));this.eWT=jGo.util.eN(this.frame.css("top"));if(a){this.onDoubleClickTop();document.body.onselectstart=null;document.body.onmousedown=null}else{jGo.UI.EventHandler('mousemove','hmd'+this.id,jGo.UI,this,'onMouseMoveDrag');jGo.UI.EventHandler('mouseup','hmd'+this.id,jGo.UI,this,'onMouseUp')}break;case M:this.eCW=jGo.util.eN(this.cA.css("width"));this.eWW=jGo.util.eN(this.frame.width());this.frame.css({width:this.eWW});this.eCBL=jGo.util.eN(this.cB.css("left"));this.eMBL=jGo.util.eN(this.MB.css("left"));this.emBL=jGo.util.eN(this.mB.css("left"));jGo.UI.EventHandler('mousemove','hmd'+this.id,jGo.UI,this,"onMouseMoveResizeR");jGo.UI.EventHandler('mouseup','hmd'+this.id,jGo.UI,this,"onMouseUp");break;case L:this.eWL=jGo.util.eN(this.frame.css("left"));this.eCW=jGo.util.eN(this.cA.css("width"));this.eWW=jGo.util.eN(this.frame.width());this.frame.css({width:this.eWW});this.eCBL=jGo.util.eN(this.cB.css("left"));this.eMBL=jGo.util.eN(this.MB.css("left"));this.emBL=jGo.util.eN(this.mB.css("left"));jGo.UI.EventHandler('mousemove','hmd'+this.id,jGo.UI,this,"onMouseMoveResizeL");jGo.UI.EventHandler('mouseup','hmd'+this.id,jGo.UI,this,"onMouseUp");break;case O:this.eWL=jGo.util.eN(this.frame.css("left"));this.eCW=jGo.util.eN(this.cA.css("width"));this.eWW=jGo.util.eN(this.frame.width());this.frame.css({width:this.eWW});this.eCBL=jGo.util.eN(this.cB.css("left"));this.eMBL=jGo.util.eN(this.MB.css("left"));this.emBL=jGo.util.eN(this.mB.css("left"));this.eCH=jGo.util.eN(this.cA.css("height"));this.eWH=jGo.util.eN(this.frame.height());this.frame.css({height:this.eWH});jGo.UI.EventHandler('mousemove','hmd'+this.id,jGo.UI,this,"onMouseMoveResizeBL");jGo.UI.EventHandler('mouseup','hmd'+this.id,jGo.UI,this,"onMouseUp");break;case N:this.eCH=jGo.util.eN(this.cA.css("height"));this.eWH=jGo.util.eN(this.frame.height());this.frame.css({height:this.eWH});jGo.UI.EventHandler('mousemove','hmd'+this.id,jGo.UI,this,"onMouseMoveResizeB");jGo.UI.EventHandler('mouseup','hmd'+this.id,jGo.UI,this,"onMouseUp");break;case P:this.eCW=jGo.util.eN(this.cA.css("width"));this.eWW=jGo.util.eN(this.frame.width());this.frame.css({width:this.eWW});this.eCBL=jGo.util.eN(this.cB.css("left"));this.eMBL=jGo.util.eN(this.MB.css("left"));this.emBL=jGo.util.eN(this.mB.css("left"));this.eCH=jGo.util.eN(this.cA.css("height"));this.eWH=jGo.util.eN(this.frame.height());this.frame.css({height:this.eWH});jGo.UI.EventHandler('mousemove','hmd'+this.id,jGo.UI,this,"onMouseMoveResizeBR");jGo.UI.EventHandler('mouseup','hmd'+this.id,jGo.UI,this,"onMouseUp");break;default:}}return false}else{if(b!=null&&b.substring(0,C.length)==C){var f=b.substr(C.length,E);var d=b.substr(C.length+E);if(this.enabled&&this.id==d){switch(f){case Q:case U:this.onMinimize();break;case T:case X:this.onRestore();break;case R:case V:this.onMaximize();break;case S:case W:this.close();this.destroy();break;default:}}document.body.focus();return false}}}};Y.onMouseUp=function(e){if(this.dragElement!=null){jGo.UI.removeHandler('mousemove','hmd'+this.id);jGo.UI.removeHandler('mouseup','hmd'+this.id);document.body.onselectstart=null;document.body.onmousedown=null;this.dragElement=null;if(this.eDraggingWindow&&this.shieldOnDrag){this.lowerDragShield()}this.eDraggingWindow=false}};Y.onMouseMoveDrag=function(e){if(!this.eDraggingWindow){this.eDraggingWindow=true;if(this.shieldOnDrag){this.raiseDragShield()}}this.moveWindow((this.eWL+e.clientX-this.eX),(this.eWT+e.clientY-this.eY))};Y.onMouseMoveResizeR=function(e){this.resizeRight((e.clientX-this.eX),false)};Y.onMouseMoveResizeL=function(e){this.resizeLeft((this.eX-e.clientX),false)};Y.onMouseMoveResizeB=function(e){this.resizeBottom((e.clientY-this.eY),false)};Y.onMouseMoveResizeBR=function(e){this.resizeBottomRight((e.clientX-this.eX),(e.clientY-this.eY),false)};Y.onMouseMoveResizeBL=function(e){this.resizeBottomLeft((this.eX-e.clientX),(e.clientY-this.eY),false)};Y.moveWindow=function(x,y){this.frame.css({left:x+"px"});this.frame.css({top:y+"px"});if(!this.shieldOnDrag){this.cN.css({left:(parseInt(this.frame[0].style.left)+5)+'px',top:(parseInt(this.frame[0].style.top)+30)+'px'})}};Y.raiseDragShield=function(){this.cN.css({left:"-3000px"})};Y.lowerDragShield=function(){this.cN.css({left:(parseInt(this.frame[0].style.left)+5)+'px',top:(parseInt(this.frame[0].style.top)+30)+'px'})};Y.resizeRight=function(a,b){var c;if(b){}else{c=new Array();c.push(this.eWW);c.push(this.eCW);c.push(this.eCBL);c.push(this.eMBL);c.push(this.emBL)}if((c[0]+a)<this.mW){a=this.mW-c[0]}else{if((c[0]+a)>this.MW){a=this.MW-c[0]}}this.frame.css({width:(c[0]+a)+'px'});this.t.css({width:(c[0]+a-117)+'px'});this.tC.css({width:(c[0]+a-100)+'px'});this.cN.css({width:(c[1]+a)+'px'});this.cA.css({width:(c[1]+a)+'px'});this.cB.css({left:(c[2]+a)+'px'});this.MB.css({left:(c[3]+a)+'px'});this.mB.css({left:(c[4]+a)+'px'})};Y.resizeLeft=function(a,b){var c;if(b){}else{c=new Array();c.push(this.eWL);c.push(this.eWW);c.push(this.eCW);c.push(this.eCBL);c.push(this.eMBL);c.push(this.emBL)}if(c[1]+a<this.mW){a=this.mW-c[1]}else{if(c[1]+a>this.MW){a=this.MW-c[1]}}this.frame.css({left:(c[0]-a)+'px'});this.frame.css({width:(c[1]+a)+'px'});this.t.css({width:(c[1]+a-117)+'px'});this.tC.css({width:(c[1]+a-100)+'px'});this.cN.css({left:(c[0]-a+5)+'px'});this.cN.css({width:(c[2]+a)+'px'});this.cA.css({width:(c[2]+a)+'px'});this.cB.css({left:(c[3]+a)+'px'});this.MB.css({left:(c[4]+a)+'px'});this.mB.css({left:(c[5]+a)+'px'})};Y.resizeBottom=function(a,b){var c;if(b){}else{c=new Array();c.push(this.eWH);c.push(this.eCH)}if(c[0]+a<this.mH){a=this.mH-c[0]}else{if(c[0]+a>this.MH){a=this.MH-c[0]}}this.frame.css({height:(c[0]+a)+'px'});this.cN.css({height:(c[1]+a)+'px'});this.cA.css({height:(c[1]+a)+'px'})};Y.resizeBottomRight=function(a,b,c){this.resizeRight(a,c);this.resizeBottom(b,c)};Y.resizeBottomLeft=function(a,b,c){this.resizeLeft(a,c);this.resizeBottom(b,c)};Y.setWindowHeight=function(y){this.frame.css("height",y+"px");this.cN.css("height",(y-35)+"px");this.cA.css("height",(y-35)+"px")};Y.setWindowWidth=function(x){var a=new Array();a.push(null);a.push(null);a.push(jGo.util.eN(this.cB.css("left")));a.push(jGo.util.eN(this.MB.css("left")));a.push(jGo.util.eN(this.mB.css("left")));var b=x-jGo.util.eN(this.frame.css("width"));this.frame.css("width",x+"px");this.cN.css("width",(x-10)+"px");this.cA.css("width",(x-10)+"px");this.cB.css("left",(a[2]+b)+"px");this.MB.css("left",(a[3]+b)+"px");this.mB.css("left",(a[4]+b)+"px")};Y.onMinimize=function(){if(!this.lock){this.lock=true;var a=this;setTimeout(function(){a.minimize()},50);this.doc.trigger('mousedown')}};Y.minimize=function(){if(this.state==2){this.setWindowHeight(this.lH);this.setWindowWidth(this.lW);this.frame.css({top:this.lT,left:this.lL});this.cN.css({top:(jGo.util.eN(this.lT)+30)+'px',left:(jGo.util.eN(this.lL)+5)+'px'});this.MB.attr("id","jGo_clickmx"+this.id);this.MB.html("<a href='javascript:void(0)' title='"+this.max_label+"' id='jGo_clickb2"+this.id+"' class='jGo_maxwindow_default'>&nbsp;</a>")}if(this.resizable){var a='jGo_fix';var b=this.getBorderElements();b[3].setAttribute("id",a+"rl"+this.id);b[4].setAttribute("id",a+"rr"+this.id);b[5].setAttribute("id",a+"bl"+this.id);b[6].setAttribute("id",a+"bm"+this.id);b[7].setAttribute("id",a+"br"+this.id);b.css("cursor","default")}this.lW=this.frame.width();this.lH=this.frame.height();this.setWindowHeight(38);this.mB.attr("id","jGo_clickrs"+this.id);this.mB.html("<a href='javascript:void(0)' title='"+this.restore_label+"' id='jGo_clickb0"+this.id+"' class='jGo_restorewindow_default'>&nbsp;</a>");this.state=0;this.lock=false};Y.onMaximize=function(){if(!this.lock){this.lock=true;var a=this;setTimeout(function(){a.maximize()},50)}};Y.maximize=function(){var a=(document.body.scrollHeight>=document.documentElement.scrollHeight)?document.body:document.documentElement;if(this.state==0){this.setWindowHeight(this.lH);this.setWindowWidth(this.lW);this.mB.attr("id","jGo_clickmn"+this.id);this.mB.html("<a href='javascript:void(0)' title='"+this.min_label+"' id='jGo_clickb1"+this.id+"' class='jGo_minwindow_default'>&nbsp;</a>")}if(this.resizable){var b='jGo_fix';var c=this.getBorderElements();c[3].setAttribute("id",b+"rl"+this.id);c[4].setAttribute("id",b+"rr"+this.id);c[5].setAttribute("id",b+"bl"+this.id);c[6].setAttribute("id",b+"bm"+this.id);c[7].setAttribute("id",b+"br"+this.id);c.css("cursor","default")}this.lW=this.frame.width();this.lH=this.frame.height();this.lT=this.frame.css("top");this.lL=this.frame.css("left");this.frame.css({top:a.scrollTop-20,left:a.scrollLeft});this.cN.css({top:a.scrollTop+10,left:a.scrollLeft+5});this.setWindowHeight(jGo.util.getSHeight()+20);this.setWindowWidth(jGo.util.getSWidth());this.MB.attr("id","jGo_clickrs"+this.id);this.MB.html("<a href='javascript:void(0)' title='"+this.restore_label+"' id='jGo_clickb0"+this.id+"' class='jGo_restorewindow_default'>&nbsp;</a>");this.state=2;this.lock=false};Y.onRestore=function(){if(!this.lock){this.lock=true;var a=this;setTimeout(function(){a.restore()},50)}};Y.restore=function(){if(this.resizable){var a='jGo_drag';var b=this.getBorderElements();b[3].setAttribute("id",a+"rl"+this.id);b[4].setAttribute("id",a+"rr"+this.id);b[5].setAttribute("id",a+"bl"+this.id);b[6].setAttribute("id",a+"bm"+this.id);b[7].setAttribute("id",a+"br"+this.id);b.css("cursor","")}this.setWindowHeight(this.lH);this.setWindowWidth(this.lW);if(this.state==0){this.mB.attr("id","jGo_clickmn"+this.id);this.mB.html("<a href='javascript:void(0)' title='"+this.min_label+"' id='jGo_clickb1"+this.id+"' class='jGo_minwindow_default'>&nbsp;</a>")}else if(this.state==2){this.frame.css({top:this.lT,left:this.lL});this.cN.css({top:(jGo.util.eN(this.lT)+30)+'px',left:(jGo.util.eN(this.lL)+5)+'px'});this.MB.attr("id","jGo_clickmx"+this.id);this.MB.html("<a href='javascript:void(0)' title='"+this.max_label+"' id='jGo_clickb2"+this.id+"' class='jGo_maxwindow_default'>&nbsp;</a>")}this.state=1;this.lock=false}})();

// Class Initialization
jGo.UI.registerWidgetClass(jGo.DefaultWindow, 'DefaultWindow',
		'complex.windows');
jGo.UI.addToSelectableInterface(jGo.DefaultWindow);
jGo.scripts.onLoad('jGo.DefaultWindow.min.js');
