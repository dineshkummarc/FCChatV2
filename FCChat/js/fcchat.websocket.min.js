jGo.fcchat_webSocket={socket:null,packet:'',beginConnect:function(a,b,c,d,e){this.packet=a;try{this.socket=new WebSocket("ws://"+b+":"+c+"/fcchatsck");this.configureListeners()}catch(err){alert(err)}},configureListeners:function(){this.socket.onopen=this.onopen;this.socket.onmessage=this.onmessage;this.socket.onclose=this.onclose;this.socket.onerror=this.onerror},onopen:function(){var a=document.domain.toString();if(a.length>20){a=a.substr(a.length-20)}var d=a.length; for(var i=0;i<20-d;i++){a='0'+a}var b=jGo.fcchat_webSocket.packet.split(String.fromCharCode(10));this.send(a+b[0]);this.send(b[1]);jsOnSuccess()},onmessage:function(a){jsOnData(a.data)},onerror:function(){jsOnFailure()},onclose:function(){jsOnClose()},jsSendData:function(a){this.socket.send(a)},jsGetConnect:function(){return this.socket.readyState},jsCloseConnection:function(){this.socket.close()}};